<view class="container">
  <text class="title">图书馆预约资源</text>

  <image class="library-image" src="/pages/image/banner.jpg" mode="aspectFill" />

  <view class="floor-switch">
    <button data-floor="1" bindtap="switchFloor">1楼</button>
    <button data-floor="2" bindtap="switchFloor">2楼</button>
  </view>

  <scroll-view scroll-x="true" class="seats">
    <block wx:for="{{seats}}" wx:key="seatGroupIndex">
      <view class="seat-group">
        <text class="seat-number">{{item.seatNumber}}</text>
        <block wx:for="{{item.timeSlots}}" wx:key="timeSlotIndex">
          <view class="seat-item" 
                data-id="{{item.id}}"  
                bindtap="reserveSeat" 
                style="background-color: {{item.status === 'reserved' ? 'red' : 'green'}};">
            <text class="time-slot">{{item.timeSlot}}</text> <!-- 显示时间段 -->
            <text class="seat-status">{{item.status === 'reserved' ? '已约' : '可约'}}</text>
          </view>
        </block>
      </view>
    </block>
  </scroll-view>

  <view class="selected-info">
    <button class="confirm-button" bindtap="confirmReservation">确认预约</button>
  </view>
</view>
